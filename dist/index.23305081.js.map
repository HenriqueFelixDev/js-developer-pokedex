{"mappings":"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","sources":["src/assets/js/domain/models/pokemon.js","src/assets/js/domain/api/pokeApi.js","src/assets/js/domain/utils/stringUtils.js","src/assets/js/components/element.js","src/assets/js/components/pokemonTypes.js","src/assets/js/components/pokemonCard.js","src/assets/js/index.js","src/assets/js/domain/utils/routerUtils.js"],"sourcesContent":["export class Pokemon {\r\n    number;\r\n    name;\r\n    type;\r\n    types = [];\r\n    photo;\r\n}\r\n\r\nexport class PokemonWithDetails extends Pokemon {\r\n    species;\r\n    height;\r\n    weight;\r\n    abilities;\r\n    hp;\r\n    attack;\r\n    defense;\r\n    specialAttack;\r\n    specialDefense;\r\n    speed;\r\n    total;\r\n}","import { Pokemon, PokemonWithDetails } from '../models/pokemon.js'\r\nimport { capitalize } from '../utils/stringUtils.js'\r\n\r\nconst baseURL = 'https://pokeapi.co/api/v2/pokemon'\r\n\r\nfunction convertPokeApiDetailToPokemon(pokeDetail) {\r\n    const pokemon = new Pokemon()\r\n    pokemon.number = pokeDetail.id\r\n    pokemon.name = pokeDetail.name\r\n\r\n    const types = pokeDetail.types.map((typeSlot) => typeSlot.type.name)\r\n    const [type] = types\r\n\r\n    pokemon.types = types\r\n    pokemon.type = type\r\n\r\n    pokemon.photo = pokeDetail.sprites.other.home.front_default\r\n\r\n    return pokemon\r\n}\r\n\r\nfunction convertPokeApiToPokemonWithDetails(pokemonApi) {\r\n    const pokemon = new PokemonWithDetails()\r\n    pokemon.number = pokemonApi.id\r\n    pokemon.name = pokemonApi.name\r\n\r\n    const types = pokemonApi.types.map((typeSlot) => typeSlot.type.name)\r\n    const [type] = types\r\n\r\n    pokemon.types = types\r\n    pokemon.type = type\r\n\r\n    pokemon.photo = pokemonApi.sprites.other.home.front_default\r\n\r\n    pokemon.species = pokemonApi.species\r\n    pokemon.height = pokemonApi.height\r\n    pokemon.weight = pokemonApi.weight\r\n    pokemon.abilities = pokemonApi.abilities\r\n        .map(({ability}) => capitalize(ability.name))\r\n        .join(', ')\r\n\r\n    const pokemonStats = new Map(pokemonApi.stats.map(stat => [stat.stat.name, stat.base_stat]))\r\n    pokemon.hp = pokemonStats.get('hp')\r\n    pokemon.attack = pokemonStats.get('attack')\r\n    pokemon.defense = pokemonStats.get('defense')\r\n    pokemon.specialAttack = pokemonStats.get('special-attack')\r\n    pokemon.specialDefense = pokemonStats.get('special-defense')\r\n    pokemon.speed = pokemonStats.get('speed')\r\n    pokemon.total = 0\r\n\r\n    return pokemon\r\n}\r\n\r\nexport async function getPokemonDetails(url) {\r\n    const pokemonDetails = await fetch(url).then((res => res.json()))\r\n\r\n    return convertPokeApiToPokemonWithDetails(pokemonDetails)\r\n}\r\n\r\nexport async function getPokemonByName(name) {\r\n    const url = `${baseURL}/${name}`\r\n\r\n    return getPokemonDetails(url)\r\n}\r\n\r\nexport async function getPokemons(offset = 0, limit = 5) {\r\n    const url = `${baseURL}?offset=${offset}&limit=${limit}`\r\n\r\n    const { results: pokemons } = await fetch(url).then(res => res.json())\r\n    \r\n    const pokemonsWithDetails = await Promise.all(\r\n        pokemons.map(pokemon => getPokemonDetails(pokemon.url))\r\n    )\r\n    \r\n    return pokemonsWithDetails\r\n}\r\n","export function capitalize(text) {\r\n    if (text.length === 0) return ''\r\n\r\n    return text[0].toUpperCase() + text.substring(1)\r\n}","export function createElement(elementType, { className, children, ...props } = {}, textContent) {\r\n    const element = document.createElement(elementType)\r\n\r\n    for(let key in props) {\r\n        element.setAttribute(key, props[key])\r\n    }\r\n\r\n    className && element.classList.add(...className.trim().split(' '))\r\n\r\n    children && element.append(...children)\r\n\r\n    textContent && (element.innerText = textContent)\r\n\r\n    return element\r\n}","import { createElement } from \"./element.js\"\r\n\r\nfunction createPokemonType(type) {\r\n    return createElement('li', {\r\n        className: `chip ${type}`\r\n    }, type)\r\n}\r\n\r\nexport function createPokemonTypeChips(types, horizontal = false) {\r\n    return createElement('ul', {\r\n        className: `pokemon-types ${horizontal ? 'pokemon-types--horizontal' : ''}`,\r\n        children: types.map(createPokemonType)\r\n    })\r\n}","import { createElement } from \"./element.js\"\r\nimport { createPokemonTypeChips } from \"./pokemonTypes.js\"\r\n\r\nfunction createCardHeader(pokemon) {\r\n    const pokemonNumber = createElement('p', {\r\n        className: 'pokemon-card__number',\r\n        children: []\r\n    }, '#' + pokemon.number.toString().padStart(3, '0'))\r\n\r\n    const pokemonName = createElement('p', {\r\n        className: 'pokemon-card__name',\r\n        children: []\r\n    }, pokemon.name)\r\n\r\n    const pokemonHeader = createElement('header', {\r\n        className: 'pokemon-card__header',\r\n        children: [pokemonName, pokemonNumber]\r\n    })\r\n\r\n    return pokemonHeader\r\n}\r\n\r\nfunction createCardDetails(pokemon) {\r\n    const pokemonImage = createElement('img', {\r\n        className: 'pokemon-card__image',\r\n        src: pokemon.photo,\r\n        alt: `Imagem do pokemon ${pokemon.name}`\r\n    })\r\n\r\n\r\n    const cardDetails = createElement('div', {\r\n        className: 'pokemon-card__details',\r\n        children: [ createPokemonTypeChips(pokemon.types), pokemonImage ]\r\n    })\r\n\r\n    return cardDetails\r\n}\r\n\r\nfunction createPokeballImage() {\r\n    const element = createElement('div')\r\n\r\n    element.innerHTML = `\r\n        <svg class=\"pokemon-card__background-pokeball\" version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 537 537\" width=\"100\" height=\"100\" fill=\"#ffffff2a\">\r\n            <path  d=\"m267 537c-182.4 0-261.5-159-268-238.9 74.4 0.1 119.7-0.1 119.7-0.1 0 0 32.3 123.1 148.3 120.5 103.8-2.4 136-78 146.2-120.4 63.2 0 70.7 0 120.8 0-4.8 64.7-75.2 238.9-267 238.9z\"/>\r\n            <path  d=\"m267 0c182.4 0 261.5 159 268 238.9-74.4-0.1-119.7 0.1-119.7 0.1 0 0-32.3-123.1-148.3-120.5-103.8 2.4-136 78-146.2 120.4-63.2 0-70.7 0-120.8 0 4.8-64.7 75.2-238.9 267-238.9z\"/>\r\n            <path  d=\"m268 369c-55.3 0-100-44.7-100-100 0-55.3 44.7-100 100-100 55.3 0 100 44.7 100 100 0 55.3-44.7 100-100 100z\"/>\r\n        </svg>\r\n    `\r\n    return element\r\n}\r\n\r\nexport function createPokemonCard(pokemon) {\r\n\r\n    const pokemonCard = createElement('article', {\r\n        className: 'pokemon-card ' + pokemon.type,\r\n        children: [\r\n            createCardHeader(pokemon),\r\n            createCardDetails(pokemon),\r\n            createPokeballImage()\r\n        ]\r\n    })\r\n\r\n    const cardLink = createElement('a', {\r\n        href: `/pokemon.html?name=${pokemon.name}#about`,\r\n        style: 'text-decoration: none;',\r\n        children: [\r\n            pokemonCard\r\n        ]\r\n    })\r\n\r\n    return cardLink\r\n}\r\n\r\n//     <article class=\"pokemon-card ${pokemon.type}\">\r\n//         <header class=\"pokemon-card__header\">\r\n//             <p class=\"pokemon-card__name\">${pokemon.name}</p>\r\n//             <p class=\"pokemon-card__number\">#${pokemon.number.toString().padStart(3, '0')}</p>\r\n//         </header>\r\n\r\n//         <div class=\"pokemon-card__details\">\r\n//             <ul class=\"pokemon-card__types\">\r\n//                 ${pokemon.types.map((type) => `<li class=\"pokemon-card__type ${type}\">${type}</li>`).join('')}\r\n//             </ul>\r\n\r\n//             <img\r\n//                 class=\"pokemon-card__image\" \r\n//                 src=\"${pokemon.photo}\"\r\n//                 alt=\"Imagem do pokemon ${pokemon.name}\"\r\n//             >\r\n//         </div>\r\n\r\n//         <svg class=\"pokemon-card__background-pokeball\" version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 537 537\" width=\"100\" height=\"100\" fill=\"#ffffff2a\">\r\n//             <path  d=\"m267 537c-182.4 0-261.5-159-268-238.9 74.4 0.1 119.7-0.1 119.7-0.1 0 0 32.3 123.1 148.3 120.5 103.8-2.4 136-78 146.2-120.4 63.2 0 70.7 0 120.8 0-4.8 64.7-75.2 238.9-267 238.9z\"/>\r\n//             <path  d=\"m267 0c182.4 0 261.5 159 268 238.9-74.4-0.1-119.7 0.1-119.7 0.1 0 0-32.3-123.1-148.3-120.5-103.8 2.4-136 78-146.2 120.4-63.2 0-70.7 0-120.8 0 4.8-64.7 75.2-238.9 267-238.9z\"/>\r\n//             <path  d=\"m268 369c-55.3 0-100-44.7-100-100 0-55.3 44.7-100 100-100 55.3 0 100 44.7 100 100 0 55.3-44.7 100-100 100z\"/>\r\n//         </svg>\r\n//     </article>","import { getPokemons } from \"./domain/api/pokeApi.js\"\r\nimport { createPokemonCard } from \"./components/pokemonCard.js\"\r\nimport { getRouteParams } from \"./domain/utils/routerUtils.js\"\r\n\r\nconst pokemonList = document.getElementById('pokemons')\r\nconst loadMoreButton = document.getElementById('loadMoreButton')\r\n\r\nconst maxItens = 151\r\nconst limit = 10\r\nlet offset = 0\r\n\r\nasync function loadPokemonItens(offset, limit) {\r\n    const pokemons = await getPokemons(offset, limit)\r\n    \r\n    const pokemonsFragment = document.createDocumentFragment()\r\n    pokemonsFragment.append(...pokemons.map(createPokemonCard))\r\n\r\n    pokemonList.append(pokemonsFragment)\r\n}\r\n\r\nloadPokemonItens(offset, limit)\r\n\r\n\r\nconsole.log(getRouteParams())\r\n\r\nloadMoreButton.addEventListener('click', () => {\r\n    offset += limit\r\n\r\n    const currentLimit = Math.min(limit, maxItens - offset)\r\n    loadPokemonItens(offset, currentLimit)\r\n\r\n    const nextOffset = offset + limit\r\n    if (nextOffset >= maxItens) {\r\n        loadMoreButton.parentElement.removeChild(loadMoreButton)\r\n    }\r\n})","export function getRouteParams() {\r\n    const paramEntries = decodeURIComponent(location.search)\r\n        .replace('?', '')\r\n        .split('&')\r\n        .map(param => param.split('='))\r\n        \r\n    const params = new Map(paramEntries)\r\n\r\n    return params\r\n}"],"names":["$2e6ddb92e8659fbd$export$290c4e3b6c42059f","number","name","type","types","photo","$2e6ddb92e8659fbd$export$84a34f45bd9e86df","species","height","weight","abilities","hp","attack","defense","specialAttack","specialDefense","speed","total","$f44be5c2190bc9ad$var$baseURL","async","$f44be5c2190bc9ad$export$a1de0604ae4e83a6","url","pokemonApi","pokemon","id","map","typeSlot","sprites","other","home","front_default","ability","text","length","toUpperCase","substring","join","pokemonStats","Map","stats","stat","base_stat","get","$f44be5c2190bc9ad$var$convertPokeApiToPokemonWithDetails","fetch","then","res","json","$f44be5c2190bc9ad$export$9039e7971670907","offset","limit","results","pokemons","Promise","all","$5e48a43045c66c9e$export$c8a8987d4410bf2d","elementType","className","children","props","textContent","element","document","createElement","key","setAttribute","classList","add","trim","split","append","innerText","$7aab5f6fe7c2172b$var$createPokemonType","$7aab5f6fe7c2172b$export$5fe51d05d42b365f","horizontal","$71aa77146d73de92$var$createCardHeader","pokemonNumber","toString","padStart","pokemonName","$71aa77146d73de92$var$createCardDetails","pokemonImage","src","alt","$71aa77146d73de92$var$createPokeballImage","innerHTML","pokemonCard","href","style","$09c891e81b589353$var$pokemonList","getElementById","$09c891e81b589353$var$loadMoreButton","$09c891e81b589353$var$offset","$09c891e81b589353$var$loadPokemonItens","pokemonsFragment","createDocumentFragment","$71aa77146d73de92$export$c86a31acfdd9f88a","console","log","paramEntries","decodeURIComponent","location","search","replace","param","addEventListener","currentLimit","Math","min","parentElement","removeChild"],"version":3,"file":"index.23305081.js.map"}